<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<!-- 
    Welcome Page - HomeTail Application
    
    This is the landing page for the HomeTail application. It serves as the entry point
    for both authenticated and unauthenticated users, providing navigation to key features.
    
    Namespaces:
    - h: JSF HTML tags
    - p: PrimeFaces components
    - f: JSF core tags
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<!-- Page Head Section -->
<h:head>
    <title>HomeTail - Find Your Perfect Pet</title>
    <!-- 
        Inline CSS for the welcome page
        Note: For larger applications, consider moving this to an external stylesheet
    -->
    <style>
        /* Define brand variables (with fallbacks so IDEs don't warn) */
        html, :root {
            --bg:    #fffef5;
            --brand: #0d2c63;
        }
        body {
            margin: 0;
            background: var('--bg', #fffef5);
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            min-height: 100vh;
            display: grid;
            place-items: center;
        }
        .wrap {
            width: 100%;
            max-width: 740px;
            padding: 24px;
        }
        .card {
            background: #fff;
            border: 1px solid #e6e9f0;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(13, 44, 99, .08);
            text-align: center;
            padding: 48px 32px;
        }
        h1 {
            margin: 0 0 .4rem;
            font-size: 2.4rem;
            color: var('--brand', #0d2c63);
            letter-spacing: .3px;
        }
        .subtitle {
            margin: 0 0 1.6rem;
            font-size: 1.35rem;
            color: var('--brand', #0d2c63);
            opacity: .95;
        }
        .actions {
            margin-top: .5rem;
            display: flex;
            flex-direction: column;
            gap: .7rem;
            align-items: center;
        }
        .btn-wide { width: 320px; }
        .hint {
            margin-top: 1.25rem;
            font-size: .95rem;
            color: #6b7a90;
        }
    </style>
</h:head>

<!-- Page Body -->
<h:body>
    <!-- 
        View Action: Redirects authenticated users to the home page
        This ensures users who are already logged in don't see the welcome page
    -->
    <f:metadata>
        <f:event type="preRenderView" listener="#{loginBean.redirectIfLoggedIn}" />
    </f:metadata>

    <!-- Main Content Container -->
    <div class="wrap">
        <!-- Welcome Card -->
        <div class="card">
            <h1>HomeTail</h1>
            <div class="subtitle">Welcome!</div>

            <!-- 
                Action Buttons
                Using p:button for pure GET navigation (no form submission needed)
                These buttons maintain clean URLs and allow for direct linking
            -->
            <div class="actions">
                <p:button value="View Adoptable Animals"
                          outcome="/viewAnimals?faces-redirect=true"
                          icon="pi pi-search"
                          styleClass="p-button-raised p-button-primary p-button-lg p-button-rounded btn-wide"/>

                <p:button value="Login"
                          outcome="/login?faces-redirect=true"
                          icon="pi pi-sign-in"
                          styleClass="p-button-outlined p-button-lg p-button-rounded btn-wide"/>

                <p:button value="Register"
                          outcome="/register?faces-redirect=true"
                          icon="pi pi-user-plus"
                          styleClass="p-button-outlined p-button-lg p-button-rounded btn-wide"/>
            </div>

            <!-- Informational hint for users -->
            <div class="hint">
                You can browse animals without an account. Create one to submit and track adoptions.
            </div>
        </div><!-- End of card -->
    </div><!-- End of wrap -->
</h:body>
</html>
